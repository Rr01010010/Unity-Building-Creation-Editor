# Unity-Building-Creation-Editor
## О проекте
Небольшой плагин, позволяющий легко и быстро создавать здания, комнаты на вашем уровне. 
Инструмент особенно полезен при прототипировании уровня так как, позволяет "накидать" уровень и быстро его опробовать.
***
## Требования
Необходима библиотека **Json.NET - Newtonsoft** либо из [Unity Asset Store](https://assetstore.unity.com/packages/tools/input-management/json-net-for-unity-11347), либо из [nuget.org](https://www.nuget.org/packages/Newtonsoft.Json/12.0.2), только в последнем случае вам надо выбрать версию пакета, и нажать в меню справа _Download package_, после чего распаковать архиватором newtonsoft.json.nupkg файл, и в папке найти нужную вам dll.
После этого библиотеку **Json.NET - Newtonsoft** и плагин **Unity-Building-Creation-Editor** необходимо скинуть в проект Unity (желательно библиотеку скинуть в папку плагина ThirdParty, а после этого ThirdParty скинуть в папку вашего проекта). Тогда Unity все слинкует. И всё должно заработать
***
## Использование
[**Видео туториал с таймкодом**](https://youtu.be/I-GhEakibtU?t=502).

Работа в редакторе происходит в **3 этапа: 1.Node Creator, 2.Wall Creator, 3.Room Creator**, на трёх сценах с соответсвующими названиями. На каждой сцене **управляющий скрипт прикреплён к камере**, с помощью скрипта вы можете управлять настройками редактора, загружать и сохранять данные. Внутри каждого скрипта указан путь к папке с Json-ами, и название уровня в поле LevelName, меняя имя этого поля, вы можете создавать новые уровни или переключатся, на уже созданные.

**1.Node Creator**
Для того чтобы быстро создать ноды, перейдите в сцену **1.Node Creator** и **запустите её в режиме playmode**, с помощью зеленной коробки вы можете расставлять ноды, по нажатию левой кнопки мыши. И удалять ноды, при повторном нажатии. Камера автоматически преследует коробку. При помощи колесика мыши, вы можете менять масштаб. А меняя поле HeightOfNewPoint, вы меняете высоту устанавливоемой ноды. С помощью полей Sensetive X/Y, вы можете настроить чувствительность мыши для передвижения коробки. При помощи поля CellSize вы можете настроить ширину ячейки, а при помощи GridSize, установить ширину отрисованного поля. (Однако вы, также можете устанавливать узлы, вне этого поля).
*Сохранение узлов*
По окончанию работы сохраните узлы с помощью кнопки _Create Points_ на игровом объекте Main Camera, загрузить ноды для редактирования вы можете по кнопке _Download Nodes_.

**2.Wall Creator**
Чтобы связать ноды образуя стены, перейдите в сцену **2.Wall Creator**, с помощью кнопки _Download Nodes_ на игровом объекте Main Camera вы построите ноды как игровые объекты, сохраненные в прошлой сцене. Нажимая на кнопку _Linking Request_ в нодах вы можете связывать и развязывать ноды, образуя их в форме нужного вам здания. **Однако запустив сцену в playmode** вы можете связывать и развязывать ноды быстрее. Для этого, с аналогичным управляением в сцене образом в этой сцене _1.Node Creator_ вы можете управлять коробкой. Нажимая левую кнопку мыши вы можете, выделить два узла, и образовать между ними связь, при повторном выделении уже соедененных узлов, связь удаляется. **При нажатии на правую кнопку мыши**, на месте прицела - коробки, появится новая нода. (Если перейти во вкладку сцены, не выключая Playmode, вы можете перемещать ноды, как обычные GameObjects).
Так постепенно связывая нужные вам ноды, выстроется силует будующего здания.

После окончания работы нажмите на кнопки 
<li> "Save ListNodes" в камере, чтобы сохранить связи, 
<li> "Download ListNodes" в камере, чтобы загрузить и отредактировать форму здания,

**3.Room Creator**
Чтобы установить стены, на место связей, перейдите в сцену **3.Room Creator**, с помощью кнопки _Download ListNodes_, на игровом объекте Main Camera, вы загрузите связи. Далее в камере, вы можете настроить параметры будующих стен и загрузить Prefab стены. Настроив параметры стен, нажмите кнопку _Build Rooms_, если все было сделано правильно, то у вас появится Container с сгенерированными стенами. Далее рекомендуется удалить дубликаты стен (у каждой стены на самом деле внутри 2 стены). После чего вы можете сохранить сцену как новый уровень, или сохранить стены как префаб перетащив контейнер в Project Manager, в папку Assets.
